<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ ALEKSIN GAMES v6.1.0 - 6 –ò–≥—Ä + –¢—É—Ä–Ω–∏—Ä—ã</title>
    <style>
        /* –í—Å–µ —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –¢–ï –°–ê–ú–ò–ï, –¥–æ–±–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ: */
        .join-btn { background: #ffaa00 !important; color: #000 !important; font-size: 18px; padding: 15px 30px !important; }
        .exit-btn { background: #ff4444 !important; color: #fff !important; }
        .difficulty-text { font-size: 14px; color: #ffff00; margin-top: 10px; }
    </style>
</head>
<body>
    <!-- –í–µ—Å—å HTML –æ—Å—Ç–∞–µ—Ç—Å—è –¢–ï –°–ê–ú–´–ô –¥–æ games-grid -->
    
    <div id="games" class="content active">
        <h2>üéÆ –í–´–ë–ï–†–ò –ò–ì–†–£ (6 –í–ê–†–ò–ê–ù–¢–û–í)</h2>
        <div class="games-grid">
            <!-- –ó–ú–ï–ô–ö–ò (–æ—á–∫–∏ = –¥–ª–∏–Ω–∞ * 10) -->
            <div class="game-card" onclick="startGame('snake', 'easy')">
                <h3>üêç –ó–ú–ï–ô–ö–ê –õ–Å–ì–ö–ê–Ø</h3>
                <div>‚öîÔ∏è ${tournamentActive ? '–ê–ö–¢–ò–í–ù–´–ô –¢–£–†–ù–ò–†!' : '–ò–≥—Ä–∞–π!'}</div>
                <div id="lb-snake-easy-mini" class="leaderboard-mini">–¢–æ–ø-3: –ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
            <div class="game-card" onclick="startGame('snake', 'medium')">
                <h3>üêç –ó–ú–ï–ô–ö–ê –°–†–ï–î–ù–Ø–Ø</h3>
                <div id="lb-snake-medium-mini" class="leaderboard-mini">–¢–æ–ø-3: –ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
            <div class="game-card" onclick="startGame('snake', 'hard')">
                <h3>üêç –ó–ú–ï–ô–ö–ê –°–õ–û–ñ–ù–ê–Ø</h3>
                <div id="lb-snake-hard-mini" class="leaderboard-mini">–¢–æ–ø-3: –ó–∞–≥—Ä—É–∑–∫–∞...</div>
            </div>
            
            <!-- –£–ì–ê–î–ê–ô–ö–ò (–æ—á–∫–∏ = 1000 / –ø–æ–ø—ã—Ç–∫–∏, –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ –≤–Ω–∏–∑) -->
            <div class="game-card" onclick="startGame('guess', '1000')">
                <h3>üéØ –£–ì–ê–î–ê–ô–ö–ê 1-1000</h3>
                <div id="lb-guess-1000-mini" class="leaderboard-mini">–ú–∞–∫—Å –æ—á–∫–∏: –ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div class="difficulty-text">–û—á–∫–∏ = 1000 / –ø–æ–ø—ã—Ç–∫–∏</div>
            </div>
            <div class="game-card" onclick="startGame('guess', '10000')">
                <h3>üéØ –£–ì–ê–î–ê–ô–ö–ê 1-10000</h3>
                <div id="lb-guess-10000-mini" class="leaderboard-mini">–ú–∞–∫—Å –æ—á–∫–∏: –ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div class="difficulty-text">–û—á–∫–∏ = 10000 / –ø–æ–ø—ã—Ç–∫–∏</div>
            </div>
            <div class="game-card" onclick="startGame('guess', '100000')">
                <h3>üéØ –£–ì–ê–î–ê–ô–ö–ê 1-100000</h3>
                <div id="lb-guess-100000-mini" class="leaderboard-mini">–ú–∞–∫—Å –æ—á–∫–∏: –ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div class="difficulty-text">–û—á–∫–∏ = 100000 / –ø–æ–ø—ã—Ç–∫–∏</div>
            </div>
        </div>
    </div>

    <!-- –¢—É—Ä–Ω–∏—Ä—ã - –¥–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –£–ß–ê–°–¢–í–û–í–ê–¢–¨ -->
    <div id="tournaments" class="content">
        <h2 id="tournament-title">‚öîÔ∏è –ê–ö–¢–ò–í–ù–´–ô –¢–£–†–ù–ò–†</h2>
        <div class="tournament">
            <div class="countdown" id="tournament-timer">‚è∞ –ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <div id="tournament-game-info" style="font-size: 20px; margin: 15px 0;"></div>
            ${currentUser !== '–ì–æ—Å—Ç—å' ? '<button class="join-btn" onclick="joinTournament()" id="join-btn">‚öîÔ∏è –£–ß–ê–°–¢–í–û–í–ê–¢–¨ –í –¢–£–†–ù–ò–†–ï</button>' : ''}
        </div>
        <!-- –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Ç—É—Ä–Ω–∏—Ä–∞... -->
    </div>

    <!-- –í game-modal –¥–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –í–´–•–û–î -->
    <div id="game-modal" class="modal">
        <div class="modal-content">
            <!-- ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç ... -->
            <div style="text-align: center; margin: 25px 0;">
                <button onclick="restartGame()" class="restart-btn">üîÑ –ù–û–í–ê–Ø –ò–ì–†–ê</button>
                <button onclick="saveAndExit()" class="save-btn">üíæ –°–û–•–†–ê–ù–ò–¢–¨ –ò –í–´–ô–¢–ò</button>
                <button onclick="closeGame()" class="exit-btn">‚ùå –í–´–•–û–î</button>
            </div>
        </div>
    </div>

    <script>
        // –ò–°–ü–†–ê–í–õ–Ø–ï–ú –ö–ù–û–ü–ö–ò - –¥–æ–±–∞–≤–ª—è–µ–º event.target
        function showPage(page) {
            document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(page).classList.add('active');
            event.target.closest('.nav-btn').classList.add('active'); // –ò–°–ü–†–ê–í–õ–ï–ù–û!
            
            if (page === 'top10') loadTop10();
            if (page === 'tournaments') loadTournament();
            if (page === 'profile') loadProfile();
            if (page === 'games') loadMiniLeaderboards();
        }

        // ‚úÖ –ù–û–í–´–ï 6 –∏–≥—Ä –≤ loadTop10
        async function loadTop10() {
            const games = [
                {name: 'üêç –ó–º–µ–π–∫–∞ –õ—ë–≥–∫–∞—è', game: 'snake', diff: 'easy'},
                {name: 'üêç –ó–º–µ–π–∫–∞ –°—Ä–µ–¥–Ω—è—è', game: 'snake', diff: 'medium'},
                {name: 'üêç –ó–º–µ–π–∫–∞ –°–ª–æ–∂–Ω–∞—è', game: 'snake', diff: 'hard'},
                {name: 'üéØ –£–≥–∞–¥–∞–π–∫–∞ 1-1000', game: 'guess', diff: '1000'},
                {name: 'üéØ –£–≥–∞–¥–∞–π–∫–∞ 1-10000', game: 'guess', diff: '10000'},
                {name: 'üéØ –£–≥–∞–¥–∞–π–∫–∞ 1-100000', game: 'guess', diff: '100000'}
            ];
            // –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞...
        }

        // ‚úÖ –ö–ù–û–ü–ö–ê –£–ß–ê–°–¢–í–û–í–ê–¢–¨
        async function joinTournament() {
            if (currentGame !== tournamentGame || currentDifficulty !== tournamentDifficulty) {
                alert('‚ö†Ô∏è –°—ã–≥—Ä–∞–π –≤ —Ç–µ–∫—É—â—É—é —Ç—É—Ä–Ω–∏—Ä–Ω—É—é –∏–≥—Ä—É!');
                return;
            }
            document.getElementById('join-btn').style.display = 'none';
            alert('‚öîÔ∏è –¢—ã –≤ —Ç—É—Ä–Ω–∏—Ä–µ! –ò–≥—Ä–∞–π –∏ –Ω–∞–±–∏—Ä–∞–π –æ—á–∫–∏!');
        }

        // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô –¢–ê–ô–ú–ï–† (–∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É)
        let tournamentEndTime = 0;
        function updateTournamentTimer() {
            if (tournamentEndTime) {
                const now = Date.now() / 1000 + 3*3600; // –ú–°–ö
                const timeLeft = Math.max(0, tournamentEndTime - now);
                if (timeLeft > 0) {
                    const hours = Math.floor(timeLeft / 3600);
                    const mins = Math.floor((timeLeft % 3600) / 60);
                    const secs = Math.floor(timeLeft % 60);
                    document.getElementById('tournament-timer').textContent = 
                        `‚è∞ ${hours}:${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
                } else {
                    document.getElementById('tournament-timer').textContent = 'üéâ –ù–û–í–´–ô –¢–£–†–ù–ò–†!';
                    loadTournament(); // –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
                }
            }
            setTimeout(updateTournamentTimer, 1000);
        }

        // ‚úÖ –ù–û–í–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –£–ì–ê–î–ê–ô–ö–ò
        function initGuess() {
            guessMax = parseInt(currentDifficulty);
            guessNumber = Math.floor(Math.random() * guessMax) + 1;
            guessAttempts = 0;
            document.getElementById('game-score-big').textContent = `–£–≥–∞–¥–∞–π 1-${guessMax}`;
        }

        // ‚úÖ –†–ê–°–ß–ï–¢ –û–ß–ö–û–í –î–õ–Ø –£–ì–ê–î–ê–ô–ö–ò
        async function guessInput() {
            // ... –ª–æ–≥–∏–∫–∞ —É–≥–∞–¥—ã–≤–∞–Ω–∏—è ...
            if (num === guessNumber) {
                guessAttempts++;
                gameScore = Math.floor(guessMax / guessAttempts); // –ù–û–í–´–ï –û–ß–ö–ò!
                await saveAndExit();
            }
        }

        // ‚úÖ –ó–ú–ï–ô–ö–ê (–æ—á–∫–∏ = –¥–ª–∏–Ω–∞ * 10)
        function gameLoopSnake() {
            // ... –ª–æ–≥–∏–∫–∞ –∑–º–µ–π–∫–∏ ...
            if (head.x === foodX && head.y === foodY) {
                snakeLength++; // –≤–º–µ—Å—Ç–æ gameScore
                gameScore = snakeLength * 10; // –ù–û–í–´–ï –û–ß–ö–ò!
                placeFood();
            }
        }
    </script>
</body>
</html>
