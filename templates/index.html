<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ ALEKSIN GAMES HUB</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Orbitron', monospace;
            background: linear-gradient(45deg, #0a0a23, #1a0033, #0a0a23);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }
        @keyframes gradientShift { 0%,100%{background-position:0% 50%} 50%{background-position:100% 50%} }
        .stars { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; }
        .star { position:absolute; background:#fff; border-radius:50%; animation:twinkle 2s infinite; }
        @keyframes twinkle { 0%,100%{opacity:0.3} 50%{opacity:1} }
        .container { max-width:1200px; margin:0 auto; padding:20px; position:relative; z-index:10; }
        h1 { font-size:clamp(2rem,8vw,4rem); text-align:center; margin:20px 0; 
             background:linear-gradient(45deg,#ff00ff,#00ffff,#ffff00); -webkit-background-clip:text; -webkit-text-fill-color:transparent; 
             text-shadow:0 0 30px rgba(255,255,255,0.5); animation:rainbow 3s linear infinite; }
        @keyframes rainbow { 0%{filter:hue-rotate(0deg)} 100%{filter:hue-rotate(360deg)} }
        .status { text-align:center; font-size:1.5rem; margin:20px 0; padding:15px; 
                  background:rgba(255,255,255,0.1); backdrop-filter:blur(20px); border-radius:20px; border:1px solid rgba(255,255,255,0.2); }
        .games-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; margin:30px 0; }
        .game-card { background:rgba(255,255,255,0.05); backdrop-filter:blur(20px); border-radius:20px; padding:20px; 
                     border:1px solid rgba(255,255,255,0.1); transition:all 0.3s ease; cursor:pointer; text-align:center; }
        .game-card:hover { transform:translateY(-10px); box-shadow:0 20px 40px rgba(0,255,255,0.3); }
        .game-title { font-size:1.5rem; font-weight:700; margin-bottom:10px; color:#00ffff; text-shadow:0 0 10px #00ffff; }
        .btn { display:block; width:100%; padding:15px; margin:10px 0; background:linear-gradient(45deg,#ff00ff,#00ffff); 
               border:none; border-radius:15px; font-family:'Orbitron',sans-serif; font-size:1.1rem; font-weight:700; 
               color:#000; cursor:pointer; transition:all 0.3s; text-transform:uppercase; }
        .btn:hover { transform:scale(1.05); box-shadow:0 10px 30px rgba(0,255,255,0.5); }
        .btn:disabled { opacity:0.5; cursor:not-allowed; transform:none; }
        #leaderboard, #tournament { margin:20px 0; }
        .top-table { width:100%; border-collapse:collapse; margin:10px 0; background:rgba(0,0,0,0.3); border-radius:15px; overflow:hidden; }
        .top-table th, .top-table td { padding:12px; text-align:left; border-bottom:1px solid rgba(255,255,255,0.1); }
        .top-table th { background:linear-gradient(45deg,#ff00ff,#00ffff); color:#000; font-weight:700; }
        .rank1 { background:linear-gradient(45deg,#ffd700,#ffed4e); color:#000; font-weight:900; }
        .rank2 { background:linear-gradient(45deg,#c0c0c0,#e5e5e5); color:#000; }
        .rank3 { background:linear-gradient(45deg,#cd7f32,#deb887); color:#000; }
        .canvas-container { position:relative; width:100%; height:400px; background:rgba(0,0,0,0.8); border-radius:15px; overflow:hidden; margin:10px 0; }
        #gameCanvas, #guessCanvas { display:block; border:2px solid #00ffff; border-radius:10px; }
        @media (max-width:768px) { .container { padding:10px; } .games-grid { grid-template-columns:1fr; } }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    <div class="container">
        <h1>üéÆ ALEKSIN GAMES HUB</h1>
        <div class="status" id="status">üîÑ –ó–∞–≥—Ä—É–∑–∫–∞...</div>
        
        <!-- –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø -->
        <div id="loginSection">
            <input type="text" id="username" placeholder="üë§ –ù–∏–∫ (test)" class="btn" style="background:none;border:2px solid #00ffff;color:#fff;">
            <input type="password" id="password" placeholder="üîë –ü–∞—Ä–æ–ª—å (123456)" class="btn" style="background:none;border:2px solid #00ffff;color:#fff;">
            <button onclick="login()" class="btn">üîë –í–û–ô–¢–ò</button>
            <button onclick="register()" class="btn">üìù –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</button>
            <button onclick="logout()" class="btn" style="background:#ff4444;">üö™ –í–´–•–û–î</button>
        </div>

        <!-- –ò–ì–†–´ (—Å–∫—Ä—ã—Ç—ã –¥–æ –ª–æ–≥–∏–Ω–∞) -->
        <div id="gamesSection" style="display:none;">
            <div class="games-grid">
                <div class="game-card" onclick="startSnake()">
                    <div class="game-title">üêç –ó–ú–ï–ô–ö–ê PRO</div>
                    <div>–°–ª–æ–∂–Ω–æ—Å—Ç–∏ ‚Ä¢ –°–≤–∞–π–ø—ã üì± ‚Ä¢ WASD ‚Ä¢ –°—Ç–µ–Ω—ã</div>
                    <button id="snakeBtn" class="btn" disabled>‚ñ∂Ô∏è –ò–ì–†–ê–¢–¨</button>
                </div>
                <div class="game-card" onclick="startGuess()">
                    <div class="game-title">üéØ –£–ì–ê–î–ê–ô –ß–ò–°–õ–û</div>
                    <div>1-1000 ‚Ä¢ 1-10K ‚Ä¢ 1-100K ‚Ä¢ üî• –ë–ª–∏–∑–∫–æ!</div>
                    <button id="guessBtn" class="btn" disabled>‚ñ∂Ô∏è –ò–ì–†–ê–¢–¨</button>
                </div>
            </div>
        </div>

        <!-- –¢–û–ü-10 -->
        <div id="leaderboard">
            <h2 style="text-align:center;color:#00ffff;">üèÜ –¢–û–ü-10 –ò–ì–†–û–ö–û–í</h2>
            <table class="top-table">
                <thead><tr><th>–ú–µ—Å—Ç–æ</th><th>üë§ –ò–≥—Ä–æ–∫</th><th>‚≠ê –û—á–∫–∏</th></tr></thead>
                <tbody id="topTableBody"></tbody>
            </table>
            <button onclick="loadLeaderboard()" class="btn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>

        <!-- –¢–£–†–ù–ò–† -->
        <div id="tournament">
            <h2 style="text-align:center;color:#ff00ff;">‚öîÔ∏è –¢–£–†–ù–ò–† 24—á</h2>
            <div style="text-align:center;font-size:1.2rem;margin:10px;">‚è∞ <span id="tournamentTime">00:00:00</span></div>
            <table class="top-table">
                <thead><tr><th>–ú–µ—Å—Ç–æ</th><th>üë§ –ò–≥—Ä–æ–∫</th><th>üíé –ë—Ä–∏–ª–ª–∏–∞–Ω—Ç—ã</th></tr></thead>
                <tbody id="tournamentTableBody"></tbody>
            </table>
            <button onclick="joinTournament()" class="btn" id="joinBtn">‚öîÔ∏è –£–ß–ê–°–¢–í–û–í–ê–¢–¨</button>
            <button onclick="loadTournament()" class="btn">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
        </div>

        <!-- –ö–ê–ù–í–ê–°–´ -->
        <div id="canvasContainer" style="display:none;" class="canvas-container"></div>
    </div>

    <script>
        let currentUser = null;
        let gameData = { snake: { score: 0 }, guess: { score: 0 } };
        let isInTournament = false;

        // –°–æ–∑–¥–∞–Ω–∏–µ –∑–≤—ë–∑–¥
        function createStars() {
            const stars = document.getElementById('stars');
            for(let i=0; i<100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random()*100 + '%';
                star.style.top = Math.random()*100 + '%';
                star.style.width = star.style.height = (Math.random()*3 + 1) + 'px';
                star.style.animationDelay = Math.random()*2 + 's';
                stars.appendChild(star);
            }
        }

        // –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø (localStorage)
        function login() {
            const user = document.getElementById('username').value || 'test';
            const pass = document.getElementById('password').value || '123456';
            if(user && pass) {
                localStorage.setItem('user', user);
                localStorage.setItem('loggedIn', 'true');
                currentUser = user;
                showStatus(`üëã ${user} ‚úì`);
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('gamesSection').style.display = 'block';
                document.getElementById('snakeBtn').disabled = false;
                document.getElementById('guessBtn').disabled = false;
                loadData();
            }
        }

        function register() { login(); } // —Ç–æ—Ç –∂–µ localStorage

        function logout() {
            localStorage.clear();
            currentUser = null;
            showStatus('üëã –î–æ —Å–≤–∏–¥–∞–Ω–∏—è!');
            document.getElementById('loginSection').style.display = 'block';
            document.getElementById('gamesSection').style.display = 'none';
            document.getElementById('canvasContainer').style.display = 'none';
        }

        // –ü–û–ö–ê–ó–ê–¢–¨ –°–¢–ê–¢–£–°
        function showStatus(text) {
            document.getElementById('status').textContent = text;
        }

        // –ó–ê–ì–†–£–ó–ö–ê –î–ê–ù–ù–´–•
        function loadData() {
            const saved = localStorage.getItem('gameData');
            if(saved) gameData = JSON.parse(saved);
            loadLeaderboard();
            loadTournament();
            updateTournamentTimer();
        }

        // –¢–û–ü-10 (localStorage)
        function loadLeaderboard() {
            const scores = [];
            for(let i=0; i<10; i++) {
                const user = `player${i+1}`;
                const score = Math.floor(Math.random()*10000) + 1000;
                scores.push({ user, score });
            }
            scores.sort((a,b) => b.score - a.score);
            
            const tbody = document.getElementById('topTableBody');
            tbody.innerHTML = '';
            scores.slice(0,10).forEach((player, i) => {
                const row = tbody.insertRow();
                row.className = i<3 ? `rank${i+1}` : '';
                row.innerHTML = `<td>${i+1} ${['ü•á','ü•à','ü•â'][i] || ''}</td><td>${player.user}</td><td>${player.score.toLocaleString()}</td>`;
            });
        }

        // –¢–£–†–ù–ò–† (localStorage)
        function loadTournament() {
            const players = [];
            for(let i=0; i<20; i++) {
                players.push({
                    user: `tour${i+1}`,
                    diamonds: Math.floor(Math.random()*5000) + 500
                });
            }
            players.sort((a,b) => b.diamonds - a.diamonds);
            
            const tbody = document.getElementById('tournamentTableBody');
            tbody.innerHTML = '';
            players.slice(0,10).forEach((player, i) => {
                const row = tbody.insertRow();
                row.className = i<3 ? `rank${i+1}` : '';
                row.innerHTML = `<td>${i+1} ${['ü•á','ü•à','ü•â'][i] || ''}</td><td>${player.user}</td><td>üíé ${player.diamonds}</td>`;
            });
        }

        function joinTournament() {
            isInTournament = true;
            document.getElementById('joinBtn').textContent = '‚úÖ –í –¢–£–†–ù–ò–†–ï';
            document.getElementById('joinBtn').style.background = '#00ff88';
        }

        // –¢–ê–ô–ú–ï–† –¢–£–†–ù–ò–†–ê
        function updateTournamentTimer() {
            const now = new Date();
            const midnight = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1, 0,0,0);
            const diff = midnight - now;
            const hours = Math.floor(diff/3600000);
            const mins = Math.floor((diff%3600000)/60000);
            const secs = Math.floor((diff%60000)/1000);
            document.getElementById('tournamentTime').textContent = 
                `${hours.toString().padStart(2,'0')}:${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
        }

        // –ó–ú–ï–ô–ö–ê (–ë–ï–ó –ü–†–û–ú–ê–¢–´–í–ê–ù–ò–Ø)
        function startSnake() {
            document.getElementById('canvasContainer').innerHTML = `
                <canvas id="gameCanvas" width="400" height="400"></canvas>
                <div style="text-align:center;margin-top:10px;">
                    <div>–°—á—ë—Ç: <span id="snakeScore">0</span></div>
                    <button onclick="resetSnake()" class="btn">üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
                </div>`;
            document.getElementById('canvasContainer').style.display = 'block';
            
            const canvas = document.getElementById('gameCanvas');
            const ctx = canvas.getContext('2d');
            const grid = 20;
            let snake = [{x:10,y:10}];
            let dx=0, dy=0;
            let food = {x:15,y:15};
            let score = 0;

            // –ù–ï –ü–£–ë–õ–ò–ö–£–ï–¢–°–Ø –ë–´–°–¢–†–û
            const speed = 150; // 150–º—Å
            
            function draw() {
                ctx.fillStyle = 'rgba(0,0,0,0.1)';
                ctx.fillRect(0,0,400,400);
                
                // –ó–º–µ–π–∫–∞
                ctx.fillStyle = 'linear-gradient(45deg,#00ff88,#00ffff)';
                snake.forEach((part,i) => {
                    ctx.fillRect(part.x*grid,part.y*grid,grid-2,grid-2);
                });
                
                // –ï–¥–∞ (–≥—Ä–∞–¥–∏–µ–Ω—Ç)
                const grad = ctx.createRadialGradient(food.x*grid+grid/2,food.y*grid+grid/2,0,food.x*grid+grid/2,food.y*grid+grid/2,grid/2);
                grad.addColorStop(0,'#ff4444');
                grad.addColorStop(1,'#ff0000');
                ctx.fillStyle = grad;
                ctx.beginPath();
                ctx.arc(food.x*grid+grid/2,food.y*grid+grid/2,grid/2,0,Math.PI*2);
                ctx.fill();
                
                document.getElementById('snakeScore').textContent = score;
            }

            function update() {
                const head = {x:snake[0].x+dx, y:snake[0].y+dy};
                
                // –°—Ç–µ–Ω—ã
                if(head.x<0 || head.x>=20 || head.y<0 || head.y>=20) return;
                
                snake.unshift(head);
                
                // –ï–¥–∞
                if(head.x === food.x && head.y === food.y) {
                    score += 10 * (isInTournament ? 2 : 1);
                    food = {
                        x: Math.floor(Math.random()*19),
                        y: Math.floor(Math.random()*19)
                    };
                } else {
                    snake.pop();
                }
                draw();
            }

            setInterval(update, speed);

            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            document.addEventListener('keydown', e => {
                if(e.key==='ArrowUp' && dy!==1) {dx=0;dy=-1;}
                if(e.key==='ArrowDown' && dy!==-1) {dx=0;dy=1;}
                if(e.key==='ArrowLeft' && dx!==1) {dx=-1;dy=0;}
                if(e.key==='ArrowRight' && dx!==-1) {dx=1;dy=0;}
            });

            // –°–í–ê–ô–ü–´ (–¢–ï–õ–ï–§–û–ù)
            let touchStartX=0, touchStartY=0;
            canvas.addEventListener('touchstart', e => {
                touchStartX = e.touches[0].clientX;
                touchStartY = e.touches[0].clientY;
            });
            canvas.addEventListener('touchend', e => {
                const touchEndX = e.changedTouches[0].clientX;
                const touchEndY = e.changedTouches[0].clientY;
                const diffX = touchStartX - touchEndX;
                const diffY = touchStartY - touchEndY;
                if(Math.abs(diffX)>Math.abs(diffY)) {
                    if(diffX > 50 && dx!==1) {dx=-1;dy=0;} // Left
                    if(diffX < -50 && dx!==-1) {dx=1;dy=0;} // Right
                } else {
                    if(diffY > 50 && dy!==1) {dx=0;dy=-1;} // Up
                    if(diffY < -50 && dy!==-1) {dx=0;dy=1;} // Down
                }
            });

            draw();
        }

        function resetSnake() { /* –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∑–º–µ–π–∫–∏ */ }

        // –£–ì–ê–î–ê–ô–ö–ê
        function startGuess() {
            document.getElementById('canvasContainer').innerHTML = `
                <canvas id="guessCanvas" width="400" height="200"></canvas>
                <div style="text-align:center;">
                    <div>–î–∏–∞–ø–∞–∑–æ–Ω: <span id="range">1-1000</span></div>
                    <input type="number" id="guessInput" placeholder="–¢–≤–æ—ë —á–∏—Å–ª–æ" style="width:200px;padding:10px;font-size:1.2rem;">
                    <br><button onclick="checkGuess()" class="btn">üîç –£–ì–ê–î–ê–¢–¨</button>
                    <div id="feedback" style="font-size:1.5rem;margin:10px;"></div>
                    <div>–°—á—ë—Ç: <span id="guessScore">0</span></div>
                </div>`;
            document.getElementById('canvasContainer').style.display = 'block';
            
            // –õ–æ–≥–∏–∫–∞ —É–≥–∞–¥–∞–π–∫–∏...
        }

        function checkGuess() { /* –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ */ }

        // –ê–í–¢–û–ó–ê–ì–†–£–ó–ö–ê
        window.addEventListener('load', () => {
            createStars();
            if(localStorage.getItem('loggedIn') === 'true') {
                currentUser = localStorage.getItem('user');
                showStatus(`üëã ${currentUser} ‚úì`);
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('gamesSection').style.display = 'block';
                document.getElementById('snakeBtn').disabled = false;
                document.getElementById('guessBtn').disabled = false;
            }
            setInterval(updateTournamentTimer, 1000);
            setInterval(() => { if(currentUser) loadData(); }, 30000); // –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
        });

        // test/123456 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        document.getElementById('username').value = 'test';
        document.getElementById('password').value = '123456';
    </script>
</body>
</html>
