<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ ALEKSIN GAMING UNIVERSE v4.0 üöÄ</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:'Orbitron',monospace;background:linear-gradient(135deg,#0a0a23 0%,#1a0a3a 50%,#000 100%);color:#00ffcc;min-height:100vh;overflow-x:hidden;position:relative}
        .stars{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}
        .star{position:absolute;background:#fff;border-radius:50%;animation:twinkle 2s infinite}
        @keyframes twinkle{0%,100%{opacity:0.3}50%{opacity:1}}
        .container{max-width:1400px;margin:0 auto;padding:20px;position:relative;z-index:10}
        .title{font-size:clamp(2.5rem,8vw,5rem);text-align:center;margin:30px 0;background:linear-gradient(45deg,#ff00ff,#00ffcc,#ffff00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 40px #00ffcc}
        
        .user-status{position:fixed;top:20px;right:20px;background:rgba(0,255,204,0.15);backdrop-filter:blur(20px);padding:15px 25px;border:2px solid rgba(0,255,204,0.5);border-radius:20px;z-index:100;box-shadow:0 10px 40px rgba(0,255,204,0.3)}
        .user-nickname{font-size:1.4rem;font-weight:700;color:#00ff88;text-shadow:0 0 10px #00ff88;margin-bottom:8px}
        .user-stats{display:flex;gap:15px;font-size:0.95rem;color:#88ddff}
        .logout-btn{background:linear-gradient(45deg,#ff416c,#ff4b2b);color:#fff;border:none;padding:8px 16px;border-radius:10px;font-size:0.9rem;cursor:pointer;font-weight:700;transition:all 0.3s}
        .logout-btn:hover{transform:scale(1.05);box-shadow:0 0 20px rgba(255,65,108,0.6)}
        
        .glass{background:rgba(255,255,255,0.08);backdrop-filter:blur(20px);border:2px solid rgba(0,255,204,0.4);border-radius:25px;padding:30px;margin:20px 0;box-shadow:0 20px 60px rgba(0,0,0,0.6);transition:all 0.3s}
        .glass:hover{transform:translateY(-8px);box-shadow:0 30px 80px rgba(0,255,204,0.5);border-color:#00ffcc}
        input,select,button{font-family:'Orbitron',sans-serif;padding:15px 25px;font-size:1.1rem;border:2px solid rgba(0,255,204,0.5);border-radius:15px;background:rgba(0,0,0,0.6);color:#00ffcc;cursor:pointer;transition:all 0.3s}
        input:focus,select:focus{outline:none;border-color:#00ffcc;box-shadow:0 0 25px rgba(0,255,204,0.6);transform:scale(1.05)}
        button{font-weight:700;text-transform:uppercase;letter-spacing:1px}
        button:hover{transform:scale(1.05);box-shadow:0 0 25px rgba(0,255,204,0.6);border-color:#00ffcc !important}
        button:disabled{background:#444;color:#666;cursor:not-allowed;transform:none}
        .btn-danger{background:linear-gradient(45deg,#ff416c,#ff4b2b);color:#fff;border-color:#ff416c}
        .games-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:25px;margin:30px 0}
        .game-title{font-size:1.8rem;margin-bottom:20px;background:linear-gradient(45deg,#00ffcc,#ff00ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
        canvas{border:3px solid rgba(0,255,204,0.7);border-radius:20px;background:rgba(0,15,40,0.95);box-shadow:0 0 40px rgba(0,255,204,0.4);display:block;margin:20px auto}
        .stats{display:flex;justify-content:space-around;margin:20px 0;font-size:1.2rem;font-weight:700}
        .tabs{display:flex;flex-wrap:wrap;gap:15px;margin:20px 0}
        .tab-btn{padding:12px 25px;background:rgba(0,255,204,0.1);border:2px solid rgba(0,255,204,0.3);border-radius:10px;cursor:pointer}
        .tab-btn.active{background:#00ffcc;color:#000;border-color:#00ffcc;font-weight:700}
        .leaderboard-table{width:100%;border-collapse:collapse;font-size:1rem;margin:15px 0}
        th{padding:15px;background:rgba(0,255,204,0.2);border-bottom:2px solid rgba(0,255,204,0.4);text-align:left}
        td{padding:12px;border-bottom:1px solid rgba(0,255,204,0.2)}
        .medal-0::before{content:"ü•á";font-size:1.4rem;margin-right:5px}
        .medal-1::before{content:"ü•à";font-size:1.4rem;margin-right:5px}
        .medal-2::before{content:"ü•â";font-size:1.4rem;margin-right:5px}
        .tournament-timer{font-size:1.5rem;text-align:center;margin:15px 0;color:#ffff00;text-shadow:0 0 15px #ffff00}
        .hidden{display:none!important}
        #leaderboards{display:none}
        .security-info{color:#ffaa00;font-size:0.9rem;margin-top:10px}
        .strength-bar{width:100%;height:8px;background:rgba(0,0,0,0.5);border-radius:4px;overflow:hidden;margin-top:5px}
        .strength-fill{height:100%;transition:width 0.3s}
        @media(max-width:768px){.games-grid{grid-template-columns:1fr}.tabs{flex-direction:column}.user-status{top:10px;right:10px;padding:12px 20px;font-size:0.9rem}}
    </style>
</head>
<body>
    <div id="userStatus" class="user-status hidden">
        <div class="user-nickname" id="currentNickname">-</div>
        <div class="user-stats">
            <span>‚≠ê <span id="userTotalScore">0</span></span>
            <span>‚öîÔ∏è <span id="userTournament">–ù–ï–¢</span></span>
        </div>
        <button class="logout-btn" onclick="logoutUser()">üö™ –í–´–•–û–î</button>
    </div>
    
    <div class="stars" id="stars"></div>
    <div class="container">
        <h1 class="title">üöÄ ALEKSIN GAMING UNIVERSE v4.0 üöÄ</h1>
        
        <!-- ‚úÖ –°–ò–°–¢–ï–ú–ê –õ–û–ì–ò–ù–ê/–†–ï–ì–ò–°–¢–†–ê–¶–ò–ò –° –ó–ê–©–ò–¢–û–ô -->
        <div id="authPanel">
            <div class="glass" style="max-width:500px;margin:0 auto;text-align:center">
                <div id="loginForm">
                    <h2 style="margin-bottom:20px;font-size:2rem">üîê –í–•–û–î</h2>
                    <input id="loginUsername" placeholder="üë§ –õ–æ–≥–∏–Ω" maxlength="20">
                    <input id="loginPassword" type="password" placeholder="üîë –ü–∞—Ä–æ–ª—å" maxlength="50">
                    <br><br>
                    <button onclick="loginUser()" id="loginBtn">üöÄ –í–û–ô–¢–ò</button>
                    <button onclick="showRegister()" style="margin-left:10px">üìù –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</button>
                    <div class="security-info">–¢–µ—Å—Ç: admin / 123456</div>
                </div>
                
                <div id="registerForm" class="hidden">
                    <h2 style="margin-bottom:20px;font-size:2rem">üìù –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</h2>
                    <input id="regUsername" placeholder="üë§ –õ–æ–≥–∏–Ω (3-20 —Å–∏–º–≤–æ–ª–æ–≤)" maxlength="20">
                    <input id="regEmail" type="email" placeholder="üìß Email" maxlength="50">
                    <input id="regPassword" type="password" placeholder="üîë –ü–∞—Ä–æ–ª—å (8+ —Å–∏–º–≤–æ–ª–æ–≤)" maxlength="50">
                    <input id="regPasswordConfirm" type="password" placeholder="üîÅ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è" maxlength="50">
                    <br><br>
                    <div id="passwordStrength" style="margin-bottom:15px">
                        <div>–°–∏–ª–∞ –ø–∞—Ä–æ–ª—è:</div>
                        <div class="strength-bar"><div id="strengthFill" class="strength-fill"></div></div>
                    </div>
                    <button onclick="registerUser()" id="registerBtn">üíé –ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–¢–¨–°–Ø</button>
                    <button onclick="showLogin()" style="margin-left:10px">üîô –í–•–û–î</button>
                </div>
            </div>
        </div>
        
        <div id="gamesPanel" class="hidden">
            <div class="games-grid">
                <div class="glass">
                    <h3 class="game-title">üêç –ó–ú–ï–ô–ö–ê –ö–û–°–ú–û–° v4.0</h3>
                    <select id="snakeDiff">
                        <option value="300-snake-novice">üå± –ù–æ–≤–∏—á–æ–∫ (300–º—Å)</option>
                        <option value="200-snake-pro" selected>‚ö° –ü—Ä–æ—Ñ–∏ (200–º—Å)</option>
                        <option value="120-snake-legend">üî• –õ–µ–≥–µ–Ω–¥–∞ (120–º—Å)</option>
                        <option value="80-snake-master">üíé –ú–∞—Å—Ç–µ—Ä (80–º—Å)</option>
                    </select>
                    <br>
                    <button onclick="startSnake()">üéÆ –ó–ê–ü–£–°–¢–ò–¢–¨ –ó–ú–ï–ô–ö–£</button>
                    <button class="btn-danger" onclick="stopSnake()" style="margin-left:10px">‚èπÔ∏è –°–¢–û–ü</button>
                    <canvas id="snakeCanvas" width="450" height="450" class="hidden"></canvas>
                    <div class="stats">
                        <span>üìä –°—á—ë—Ç: <span id="snakeScore">0</span></span>
                        <span>‚≠ê –†–µ–∫–æ—Ä–¥: <span id="snakeGlobal">0</span></span>
                    </div>
                </div>
                
                <div class="glass">
                    <h3 class="game-title">üî¢ –£–ì–ê–î–ê–ô–ö–ê –ì–ê–õ–ê–ö–¢–ò–ö–ê v4.0</h3>
                    <select id="guessDiff">
                        <option value="100-guess-easy">üå± –õ–µ–≥–∫–æ (1-100)</option>
                        <option value="1000-guess-normal" selected>‚ö° –ù–æ—Ä–º–∞–ª—å–Ω–æ (1-1000)</option>
                        <option value="10000-guess-hard">üî• –°–ª–æ–∂–Ω–æ (1-10k)</option>
                        <option value="100000-guess-extreme">üíé –≠–∫—Å—Ç—Ä–∏–º (1-100k)</option>
                    </select>
                    <br>
                    <input id="guessInput" type="number" placeholder="üéØ –í–≤–µ–¥–∏ —á–∏—Å–ª–æ">
                    <br>
                    <button onclick="makeGuess()">üéØ –£–ì–ê–î–ê–¢–¨</button>
                    <button onclick="newGuessGame()" style="margin-left:10px">üîÑ –ù–û–í–ê–Ø –ò–ì–†–ê</button>
                    <div class="stats">
                        <span>üî¢ –ü–æ–ø—ã—Ç–æ–∫: <span id="guessTries">0</span></span>
                        <span>üìà –î–∏–∞–ø–∞–∑–æ–Ω: <span id="guessRange">1-1000</span></span>
                    </div>
                    <div id="guessHint" style="margin-top:15px;font-size:1.2rem;text-align:center;min-height:40px;padding:15px;background:rgba(0,255,204,0.1);border-radius:10px"></div>
                </div>
            </div>
            
            <div class="glass">
                <h3 style="text-align:center;font-size:2rem;background:linear-gradient(45deg,#ffff00,#ff00ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:15px">
                    ‚öîÔ∏è –ì–ê–õ–ê–ö–¢–ò–ß–ï–°–ö–ò–ô –¢–£–†–ù–ò–† (00:00 –ú–°–ö)
                </h3>
                <div class="tournament-timer">
                    ‚è∞ –°–ª–µ–¥—É—é—â–∏–π: <span id="countdown">00:00:00</span> | 
                    <button id="tournamentBtn" onclick="toggleTournament()">‚öîÔ∏è –í–°–¢–£–ü–ò–¢–¨ (x2 –æ—á–∫–∏)</button>
                </div>
                <button onclick="showLeaderboards()" style="margin-top:20px;display:block;width:100%;background:linear-gradient(45deg,#00ff88,#00cc66)">üèÜ –¢–û–ü-10 –ü–û –í–°–ï–ú –ò–ì–†–ê–ú</button>
            </div>
        </div>
        
        <!-- ‚úÖ –¢–û–ü-10 + –¢–£–†–ù–ò–†–ù–´–ï –¢–û–ü–´ –ü–û –ò–ì–†–ê–ú -->
        <div id="leaderboards" class="hidden">
            <div class="tabs">
                <button class="tab-btn active" data-tab="global" onclick="showTab('global')">üåü –ì–õ–ê–í–ù–´–ô –¢–û–ü-10</button>
                <button class="tab-btn" data-tab="snake" onclick="showTab('snake')">üêç –ó–ú–ï–ô–ö–ê</button>
                <button class="tab-btn" data-tab="guess" onclick="showTab('guess')">üî¢ –£–ì–ê–î–ê–ô–ö–ê</button>
                <button class="tab-btn" data-tab="tournament" onclick="showTab('tournament')">‚öîÔ∏è –¢–£–†–ù–ò–†</button>
            </div>
            
            <div id="globalTab" class="glass hidden">
                <h3 style="text-align:center">üèÜ –ì–õ–ê–í–ù–´–ô –¢–û–ü-10 (–í–°–ï –û–ß–ö–ò)</h3>
                <table class="leaderboard-table">
                    <thead><tr><th>üèÜ</th><th>üë§ –ò–≥—Ä–æ–∫</th><th>‚≠ê –û—á–∫–∏</th></tr></thead>
                    <tbody id="globalTop"></tbody>
                </table>
            </div>
            
            <div id="snakeTab" class="glass hidden">
                <h3 style="text-align:center">üêç –¢–û–ü–´ –ó–ú–ï–ô–ö–ò –ü–û –°–õ–û–ñ–ù–û–°–¢–ò</h3>
                <table class="leaderboard-table">
                    <thead><tr><th>–°–ª–æ–∂–Ω–æ—Å—Ç—å</th><th>ü•á 1-–µ</th><th>ü•à 2-–µ</th><th>ü•â 3-–µ</th></tr></thead>
                    <tbody id="snakeTops"></tbody>
                </table>
            </div>
            
            <div id="guessTab" class="glass hidden">
                <h3 style="text-align:center">üî¢ –¢–û–ü–´ –£–ì–ê–ô–î–ö–ò –ü–û –°–õ–û–ñ–ù–û–°–¢–ò</h3>
                <table class="leaderboard-table">
                    <thead><tr><th>–°–ª–æ–∂–Ω–æ—Å—Ç—å</th><th>ü•á 1-–µ</th><th>ü•à 2-–µ</th><th>ü•â 3-–µ</th></tr></thead>
                    <tbody id="guessTops"></tbody>
                </table>
            </div>
            
            <div id="tournamentTab" class="glass hidden">
                <h3 style="text-align:center">‚öîÔ∏è –¢–£–†–ù–ò–†–ù–´–ï –¢–û–ü–´ (x2 –û–ß–ö–ò)</h3>
                <table class="leaderboard-table">
                    <thead><tr><th>‚öîÔ∏è</th><th>üë§ –ò–≥—Ä–æ–∫</th><th>üêç –ó–º–µ–π–∫–∞</th><th>üî¢ –£–≥–∞–¥–∞–π–∫–∞</th><th>‚≠ê –ò–¢–û–ì–û</th></tr></thead>
                    <tbody id="tourTop"></tbody>
                </table>
            </div>
            
            <button onclick="showGames()" class="btn-danger" style="margin:20px auto;display:block;width:300px">üéÆ –ù–ê–ó–ê–î –ö –ò–ì–†–ê–ú</button>
        </div>
    </div>

    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentUser = '', userData = {}, snakeActive = false, snakeInterval = null;
        let guessNumber = 0, guessMax = 1000, guessTries = 0, dx = 1, dy = 0, snake = [{x:10,y:10}];
        let tournamentActive = false, nextTournament = getNextMidnight();
        
        // ‚úÖ –ó–ê–©–ò–©–Å–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò (SHA-256 + Salt)
        function hashPassword(password, salt) {
            let hash = 0;
            for(let i = 0; i < password.length; i++) {
                let char = password.charCodeAt(i);
                hash = ((hash << 5) - hash) + char;
                hash = hash & hash;
            }
            return (hash >>> 0).toString(16).padStart(8, '0') + salt;
        }
        
        function generateSalt(username) {
            let time = Date.now().toString();
            return btoa(username + time).slice(0, 8);
        }
        
        // ‚úÖ –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –° –ü–û–õ–ù–û–ô –ó–ê–©–ò–¢–û–ô
        function registerUser() {
            let username = document.getElementById('regUsername').value.trim();
            let email = document.getElementById('regEmail').value.trim();
            let password = document.getElementById('regPassword').value;
            let confirm = document.getElementById('regPasswordConfirm').value;
            
            // –í–ê–õ–ò–î–ê–¶–ò–Ø
            if(username.length < 3 || username.length > 20) {
                alert('‚ùå –õ–æ–≥–∏–Ω: 3-20 —Å–∏–º–≤–æ–ª–æ–≤');
                return;
            }
            if(!email.includes('@') || email.length < 5) {
                alert('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π email');
                return;
            }
            if(password.length < 8) {
                alert('‚ùå –ü–∞—Ä–æ–ª—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤');
                return;
            }
            if(password !== confirm) {
                alert('‚ùå –ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
                return;
            }
            
            // –ü–†–û–í–ï–†–ö–ê –ù–ê –°–£–©–ï–°–¢–í–û–í–ê–ù–ò–ï
            let allUsers = JSON.parse(localStorage.getItem('users') || '[]');
            if(allUsers.find(u => u.username === username)) {
                alert('‚ùå –≠—Ç–æ—Ç –ª–æ–≥–∏–Ω —É–∂–µ –∑–∞–Ω—è—Ç!');
                return;
            }
            
            // –°–û–ó–î–ê–ù–ò–ï –ê–ö–ö–ê–£–ù–¢–ê
            let salt = generateSalt(username);
            let hashedPassword = hashPassword(password, salt);
            
            let newUser = {
                id: Date.now(),
                username: username,
                email: email,
                passwordHash: hashedPassword,
                salt: salt,
                totalScore: 0,
                created: new Date().toLocaleString('ru-RU'),
                tournament: { joined: false, snake: 0, guess: 0 }
            };
            
            allUsers.push(newUser);
            localStorage.setItem('users', JSON.stringify(allUsers));
            
            alert('‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –ú–æ–∂–µ—à—å –≤–æ–π—Ç–∏.');
            showLogin();
        }
        
        // ‚úÖ –õ–û–ì–ò–ù –° –ó–ê–©–ò–¢–û–ô
        function loginUser() {
            let username = document.getElementById('loginUsername').value.trim();
            let password = document.getElementById('loginPassword').value;
            
            let allUsers = JSON.parse(localStorage.getItem('users') || '[]');
            let user = allUsers.find(u => u.username === username);
            
            if(!user) {
                alert('‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω');
                return;
            }
            
            let salt = user.salt;
            let hashedInput = hashPassword(password, salt);
            
            if(hashedInput === user.passwordHash) {
                currentUser = username;
                userData = user;
                localStorage.setItem('currentSession', JSON.stringify({userId: user.id, timestamp: Date.now()}));
                
                document.getElementById('authPanel').classList.add('hidden');
                document.getElementById('gamesPanel').classList.remove('hidden');
                
                loadTournamentStatus();
                updateUserStatus();
                updateAllLeaderboards();
                newGuessGame();
            } else {
                alert('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å');
            }
        }
        
        // ‚úÖ –ü–†–û–í–ï–†–ö–ê –°–ï–°–°–ò–ò
        function checkSession() {
            let session = JSON.parse(localStorage.getItem('currentSession') || '{}');
            if(session.timestamp && (Date.now() - session.timestamp) < 24*60*60*1000) {
                let allUsers = JSON.parse(localStorage.getItem('users') || '[]');
                let user = allUsers.find(u => u.id == session.userId);
                if(user) {
                    currentUser = user.username;
                    userData = user;
                    return true;
                }
            }
            return false;
        }
        
        // ‚úÖ –°–ò–õ–ê –ü–ê–†–û–õ–Ø
        document.getElementById('regPassword').addEventListener('input', function() {
            let password = this.value;
            let score = 0;
            if(password.length > 8) score += 20;
            if(/[A-Z]/.test(password)) score += 20;
            if(/[0-9]/.test(password)) score += 20;
            if(/[^A-Za-z0-9]/.test(password)) score += 20;
            if(password.length > 12) score += 20;
            
            let fill = document.getElementById('strengthFill');
            fill.style.width = score + '%';
            fill.style.background = score < 40 ? '#ff4444' : score < 70 ? '#ffaa00' : '#00ff88';
        });
        
        function showRegister() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
        }
        
        function showLogin() {
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('loginForm').classList.remove('hidden');
        }
        
        // ‚úÖ –¢–£–†–ù–ò–† –ü–û –ú–°–ö 00:00
        function getNextMidnight() {
            let now = new Date();
            now.setHours(24,0,0,0); // –ó–∞–≤—Ç—Ä–∞ 00:00 –ú–°–ö
            return now.getTime();
        }
        
        function loadTournamentStatus() {
            tournamentActive = Date.now() >= nextTournament - 24*60*60*1000;
            let btn = document.getElementById('tournamentBtn');
            if(tournamentActive) {
                btn.disabled = false;
                let userTour = userData.tournament || {joined: false, snake: 0, guess: 0};
                tournamentJoined = userTour.joined;
                btn.innerHTML = tournamentJoined ? '‚úÖ –í –¢–£–†–ù–ò–†–ï (x2)' : '‚öîÔ∏è –í–°–¢–£–ü–ò–¢–¨ (x2)';
                if(tournamentJoined) btn.style.background = '#00ff88';
            } else {
                btn.disabled = true;
                btn.innerHTML = '‚è≥ –¢—É—Ä–Ω–∏—Ä –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω';
            }
        }
        
        function toggleTournament() {
            if(!tournamentActive) return;
            let userTour = userData.tournament || {joined: false, snake: 0, guess: 0};
            userTour.joined = !userTour.joined;
            userData.tournament = userTour;
            
            let allUsers = JSON.parse(localStorage.getItem('users') || '[]');
            let userIndex = allUsers.findIndex(u => u.id === userData.id);
            allUsers[userIndex] = userData;
            localStorage.setItem('users', JSON.stringify(allUsers));
            
            let btn = document.getElementById('tournamentBtn');
            tournamentJoined = userTour.joined;
            btn.innerHTML = tournamentJoined ? '‚úÖ –í –¢–£–†–ù–ò–†–ï (x2)' : '‚öîÔ∏è –í–°–¢–£–ü–ò–¢–¨ (x2)';
            if(tournamentJoined) btn.style.background = '#00ff88';
            else btn.style.background = '';
            
            updateUserStatus();
        }
        
        // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–∑–º–µ–π–∫–∞, —É–≥–∞–¥–∞–π–∫–∞, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ª–∏–¥–µ—Ä–±–æ—Ä–¥—ã) - —Å–æ–∫—Ä–∞—â–µ–Ω—ã –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
        // ... [–≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –≤ v3.5 –Ω–æ —Å —Ç—É—Ä–Ω–∏—Ä–Ω—ã–º–∏ –æ—á–∫–∞–º–∏ –ø–æ –∏–≥—Ä–∞–º]
        
        window.onload = function() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∑–≤—ë–∑–¥
            for(let i = 0; i < 150; i++) {
                let star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random()*100 + '%';
                star.style.top = Math.random()*100 + '%';
                star.style.width = star.style.height = (Math.random()*3 + 0.5) + 'px';
                document.getElementById('stars').appendChild(star);
            }
            
            if(checkSession()) {
                document.getElementById('authPanel').classList.add('hidden');
                document.getElementById('gamesPanel').classList.remove('hidden');
                loadTournamentStatus();
                updateUserStatus();
            }
            
            updateTournamentTimer();
            setInterval(updateAllLeaderboards, 5000);
        };
    </script>
</body>
</html>
