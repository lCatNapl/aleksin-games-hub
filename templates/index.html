<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ ALEKSIN GAMES HUB</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Orbitron', monospace;
            background: radial-gradient(ellipse at center, #0a0a2e 0%, #000 70%);
            color: #00ffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        canvas { background: rgba(0,20,40,0.9); border: 2px solid #00ffff; border-radius: 15px; box-shadow: 0 0 30px #00ffff; }
        .stars { position:fixed; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:1; }
        .star { position:absolute; background:#fff; border-radius:50%; animation:twinkle 2s infinite; }
        @keyframes twinkle { 0%,100%{opacity:0.3} 50%{opacity:1} }
        .container { max-width:1200px; margin:0 auto; padding:20px; position:relative; z-index:10; }
        h1 { font-size:clamp(2rem,8vw,4rem); text-align:center; margin:20px 0; 
             background:linear-gradient(45deg,#ff00ff,#00ffff,#ffff00); -webkit-background-clip:text; 
             -webkit-text-fill-color:transparent; text-shadow:0 0 30px #00ffff; }
        .login-form, .games-grid { display:grid; place-items:center; gap:20px; }
        input, button { font-family:'Orbitron',sans-serif; padding:15px 25px; font-size:1.2rem; 
                       border:2px solid #00ffff; border-radius:25px; background:rgba(0,255,255,0.1); 
                       color:#00ffff; backdrop-filter:blur(10px); transition:all 0.3s; }
        input:focus, button:hover { box-shadow:0 0 25px #00ffff; transform:scale(1.05); }
        button { cursor:pointer; font-weight:700; text-transform:uppercase; letter-spacing:2px; }
        .btn-danger { background:linear-gradient(45deg,#ff0000,#ff4444); border-color:#ff0000; color:#fff; }
        .games-grid { grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); }
        .game-card { background:rgba(0,0,50,0.5); border:2px solid #444; border-radius:20px; 
                     padding:30px; text-align:center; backdrop-filter:blur(15px); transition:transform 0.3s; }
        .game-card:hover { transform:translateY(-10px); box-shadow:0 20px 40px rgba(0,255,255,0.3); }
        .leaderboard, .tournament { background:rgba(0,0,50,0.7); border-radius:20px; padding:25px; margin:20px 0; }
        table { width:100%; border-collapse:collapse; font-size:0.95rem; }
        th, td { padding:12px; text-align:left; border-bottom:1px solid #444; }
        .gold { background:linear-gradient(45deg,#ffd700,#ffed4e); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        .silver { color:#c0c0c0; }
        .bronze { color:#cd7f32; }
        .hidden { display:none !important; }
        @media (max-width:768px) { .container { padding:10px; } input, button { padding:12px 20px; font-size:1rem; } }
    </style>
</head>
<body>
    <div class="stars" id="stars"></div>
    
    <div class="container">
        <h1>üéÆ ALEKSIN GAMES HUB</h1>
        
        <!-- –õ–æ–≥–∏–Ω -->
        <div id="loginSection" class="login-form">
            <input type="text" id="username" placeholder="–ù–∏–∫–Ω–µ–π–º" value="test">
            <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" value="123456">
            <button onclick="login()">üöÄ –í–û–ô–¢–ò</button>
            <button class="btn-danger" onclick="logout()">üö™ –í–´–•–û–î</button>
        </div>

        <!-- –ò–≥—Ä—ã (—Å–∫—Ä—ã—Ç—ã –¥–æ –≤—Ö–æ–¥–∞) -->
        <div id="gamesSection" class="games-grid hidden">
            <div class="game-card">
                <h3>üêç –ó–ú–ï–ô–ö–ê PRO</h3>
                <select id="snakeDifficulty">
                    <option value="200">–õ–µ–≥–∫–æ (200–º—Å)</option>
                    <option value="150">–°—Ä–µ–¥–Ω–µ (150–º—Å)</option>
                    <option value="100">–°–ª–æ–∂–Ω–æ (100–º—Å)</option>
                </select>
                <br><br>
                <button onclick="startSnake()">–ò–ì–†–ê–¢–¨</button>
                <canvas id="snakeCanvas" width="400" height="400" class="hidden"></canvas>
                <p id="snakeScore">–°—á—ë—Ç: 0</p>
            </div>
            
            <div class="game-card">
                <h3>üî¢ –£–ì–ê–î–ê–ô –ß–ò–°–õ–û</h3>
                <select id="guessDifficulty">
                    <option value="1000">1-1000</option>
                    <option value="10000">1-10k</option>
                    <option value="100000">1-100k</option>
                </select>
                <br><br>
                <input type="number" id="guessInput" placeholder="–¢–≤–æ—ë —á–∏—Å–ª–æ">
                <br><button onclick="makeGuess()">–£–ì–ê–î–ê–¢–¨</button>
                <p id="guessFeedback">–î–∏–∞–ø–∞–∑–æ–Ω: 1-1000</p>
                <p id="guessAttempts">–ü–æ–ø—ã—Ç–æ–∫: 0</p>
                <button onclick="newGuessGame()">–ù–û–í–ê–Ø –ò–ì–†–ê</button>
            </div>
        </div>

        <!-- –¢–æ–ø-10 -->
        <div class="leaderboard">
            <h3>üèÜ –ì–õ–û–ë–ê–õ–¨–ù–´–ô –¢–û–ü-10</h3>
            <table id="leaderboard">
                <thead><tr><th>–ú–µ—Å—Ç–æ</th><th>–ò–≥—Ä–æ–∫</th><th>–û—á–∫–∏</th><th>–ò–≥—Ä–∞</th></tr></thead>
                <tbody></tbody>
            </table>
            <button onclick="updateLeaderboard()" style="margin-top:15px;">üîÑ –û–ë–ù–û–í–ò–¢–¨</button>
        </div>

        <!-- –¢—É—Ä–Ω–∏—Ä -->
        <div class="tournament">
            <h3>‚öîÔ∏è –¢–£–†–ù–ò–† (24—á)</h3>
            <button id="joinTournament" onclick="joinTournament()">–£–ß–ê–°–¢–í–û–í–ê–¢–¨</button>
            <table id="tournamentTable">
                <thead><tr><th>–ú–µ—Å—Ç–æ</th><th>–ò–≥—Ä–æ–∫</th><th>–û—á–∫–∏</th></tr></thead>
                <tbody></tbody>
            </table>
            <p id="tournamentTimer">–û—Å—Ç–∞–ª–æ—Å—å: --:--:--</p>
        </div>
    </div>

    <script>
        let currentUser = null;
        let snakeGame = null, guessGame = null;
        let tournamentActive = false;
        let gameInterval = null;

        // –°–æ–∑–¥–∞–Ω–∏–µ –∑–≤—ë–∑–¥
        function createStars() {
            const stars = document.getElementById('stars');
            for(let i=0; i<100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random()*100 + '%';
                star.style.top = Math.random()*100 + '%';
                star.style.width = star.style.height = (Math.random()*3 + 1) + 'px';
                stars.appendChild(star);
            }
        }

        // –õ–æ–≥–∏–Ω/–∞—É—Ç
        function login() {
            const user = document.getElementById('username').value.trim();
            const pass = document.getElementById('password').value;
            if(user && pass) {
                currentUser = user;
                localStorage.setItem('currentUser', user);
                document.getElementById('loginSection').classList.add('hidden');
                document.getElementById('gamesSection').classList.remove('hidden');
                updateLeaderboard();
                updateTournament();
                updateTournamentTimer();
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            document.getElementById('gamesSection').classList.add('hidden');
            document.getElementById('loginSection').classList.remove('hidden');
            if(gameInterval) clearInterval(gameInterval);
        }

        // –ó–º–µ–π–∫–∞ (–§–ò–ö–° –ü–†–û–ú–ê–¢–´–í–ê–ù–ò–Ø)
        function startSnake() {
            const canvas = document.getElementById('snakeCanvas');
            const ctx = canvas.getContext('2d');
            canvas.classList.remove('hidden');
            
            const grid = 20;
            const cols = canvas.width / grid;
            const rows = canvas.height / grid;
            let snake = [{x:10, y:10}];
            let food = {x: Math.floor(Math.random()*cols), y: Math.floor(Math.random()*rows)};
            let dx = 0, dy = 0;
            let score = 0;
            const speed = parseInt(document.getElementById('snakeDifficulty').value);
            
            function draw() {
                ctx.clearRect(0,0,canvas.width,canvas.height);
                
                // –ï–¥–∞
                ctx.fillStyle = 'linear-gradient(45deg, #ff00ff, #00ffff)';
                ctx.beginPath();
                ctx.arc(food.x*grid+10, food.y*grid+10, 8, 0, Math.PI*2);
                ctx.fill();
                
                // –ó–º–µ–π–∫–∞
                snake.forEach((part, i) => {
                    ctx.fillStyle = i === 0 ? '#00ff00' : '#444';
                    ctx.fillRect(part.x*grid, part.y*grid, grid-2, grid-2);
                });
                
                // –î–≤–∏–∂–µ–Ω–∏–µ
                const head = {x: snake[0].x + dx, y: snake[0].y + dy};
                snake.unshift(head);
                
                if(head.x === food.x && head.y === food.y) {
                    score++;
                    food = {x: Math.floor(Math.random()*cols), y: Math.floor(Math.random()*rows)};
                    saveSnakeScore(score);
                } else {
                    snake.pop();
                }
                
                document.getElementById('snakeScore').textContent = `–°—á—ë—Ç: ${score}`;
            }
            
            gameInterval = setInterval(draw, speed); // –§–ò–ö–° –°–ö–û–†–û–°–¢–ò!
            
            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            document.addEventListener('keydown', (e) => {
                if(e.key === 'ArrowUp' && dy !== 1) { dx=0; dy=-1; }
                if(e.key === 'ArrowDown' && dy !== -1) { dx=0; dy=1; }
                if(e.key === 'ArrowLeft' && dx !== 1) { dx=-1; dy=0; }
                if(e.key === 'ArrowRight' && dx !== -1) { dx=1; dy=0; }
            });
        }
        
        function saveSnakeScore(score) {
            const scores = JSON.parse(localStorage.getItem('snakeScores') || '[]');
            scores.push({user: currentUser, score, date: Date.now()});
            scores.sort((a,b) => b.score - a.score);
            localStorage.setItem('snakeScores', JSON.stringify(scores.slice(0,100)));
        }

        // –£–≥–∞–¥–∞–π–∫–∞ (–§–ò–ö–° –ö–ù–û–ü–ö–ò)
        let guessNumber, guessAttempts = 0, guessMax;
        
        function newGuessGame() {
            guessMax = parseInt(document.getElementById('guessDifficulty').value);
            guessNumber = Math.floor(Math.random() * guessMax) + 1;
            guessAttempts = 0;
            document.getElementById('guessFeedback').textContent = `–î–∏–∞–ø–∞–∑–æ–Ω: 1-${guessMax.toLocaleString()}`;
            document.getElementById('guessAttempts').textContent = '–ü–æ–ø—ã—Ç–æ–∫: 0';
            document.getElementById('guessInput').value = '';
        }
        
        function makeGuess() {
            const guess = parseInt(document.getElementById('guessInput').value);
            if(!guess || guess < 1 || guess > guessMax) {
                document.getElementById('guessFeedback').textContent = '–ß–∏—Å–ª–æ –æ—Ç 1 –¥–æ ' + guessMax.toLocaleString();
                return;
            }
            
            guessAttempts++;
            if(guess === guessNumber) {
                document.getElementById('guessFeedback').textContent = `‚úÖ –£–ì–ê–î–ê–õ –∑–∞ ${guessAttempts} –ø–æ–ø—ã—Ç–æ–∫!`;
                saveGuessScore(guessAttempts);
                setTimeout(newGuessGame, 2000);
            } else if(guess < guessNumber) {
                const diff = guessNumber - guess;
                document.getElementById('guessFeedback').textContent = 
                    diff <= 5 ? 'üî• –û—á–µ–Ω—å –±–ª–∏–∑–∫–æ! –ë–æ–ª—å—à–µ' : '–ú–µ–Ω—å—à–µ';
            } else {
                const diff = guess - guessNumber;
                document.getElementById('guessFeedback').textContent = 
                    diff <= 5 ? 'üî• –û—á–µ–Ω—å –±–ª–∏–∑–∫–æ! –ú–µ–Ω—å—à–µ' : '–ë–æ–ª—å—à–µ';
            }
            document.getElementById('guessAttempts').textContent = `–ü–æ–ø—ã—Ç–æ–∫: ${guessAttempts}`;
        }

        function saveGuessScore(attempts) {
            const scores = JSON.parse(localStorage.getItem('guessScores') || '[]');
            scores.push({user: currentUser, attempts, date: Date.now()});
            scores.sort((a,b) => a.attempts - b.attempts);
            localStorage.setItem('guessScores', JSON.stringify(scores.slice(0,100)));
        }

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–¥–µ—Ä–±–æ—Ä–¥ (–§–ò–ö–° –¢–û–õ–¨–ö–û –†–ï–ê–õ–¨–ù–´–ï –ò–ì–†–û–ö–ò)
        function updateLeaderboard() {
            const snakeScores = JSON.parse(localStorage.getItem('snakeScores') || '[]');
            const guessScores = JSON.parse(localStorage.getItem('guessScores') || '[]');
            
            const allScores = [
                ...snakeScores.map(s => ({...s, game: 'üêç –ó–º–µ–π–∫–∞', score: s.score})),
                ...guessScores.map(g => ({...g, game: 'üî¢ –£–≥–∞–¥–∞–π–∫–∞', score: 1000/g.attempts}))
            ];
            
            allScores.sort((a,b) => b.score - a.score);
            const top10 = allScores.slice(0,10);
            
            const tbody = document.querySelector('#leaderboard tbody');
            tbody.innerHTML = top10.map((s, i) => `
                <tr>
                    <td>${i+1}${i<3 ? ['ü•á','ü•à','ü•â'][i] : ''}</td>
                    <td>${s.user}</td>
                    <td>${Math.round(s.score)}</td>
                    <td>${s.game}</td>
                </tr>
            `).join('');
        }

        // –¢—É—Ä–Ω–∏—Ä (–§–ò–ö–° –î–í–û–ô–ù–û–ô –ó–ê–ü–ò–°–ò)
        function joinTournament() {
            tournamentActive = true;
            document.getElementById('joinTournament').textContent = '‚úÖ –£–ß–ê–°–¢–í–£–ï–®–¨';
            document.getElementById('joinTournament').disabled = true;
        }

        function updateTournament() {
            // –ò–º–∏—Ç–∞—Ü–∏—è –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ (—Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –Ω–∏–∫–∏)
            const players = ['nazar', 'alexin', 'profi', 'gamer', 'test', currentUser || 'guest'];
            const tbody = document.querySelector('#tournamentTable tbody');
            tbody.innerHTML = players.map((player, i) => `
                <tr>
                    <td>${i+1}${i<3 ? ['ü•á','ü•à','ü•â'][i] : ''}</td>
                    <td>${player}</td>
                    <td>${Math.floor(Math.random()*10000)}</td>
                </tr>
            `).join('');
        }

        function updateTournamentTimer() {
            // 24—á —Ç–∞–π–º–µ—Ä
            const now = new Date();
            const reset = new Date(now.getFullYear(), now.getMonth(), now.getDate()+1, 0, 0, 0);
            const timeLeft = reset - now;
            const h = Math.floor(timeLeft/3600000);
            const m = Math.floor((timeLeft%3600000)/60000);
            const s = Math.floor((timeLeft%60000)/1000);
            document.getElementById('tournamentTimer').textContent = `–û—Å—Ç–∞–ª–æ—Å—å: ${h}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
            setTimeout(updateTournamentTimer, 1000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        window.addEventListener('load', () => {
            createStars();
            const savedUser = localStorage.getItem('currentUser');
            if(savedUser) {
                document.getElementById('username').value = savedUser;
                login();
            }
            newGuessGame();
            setInterval(updateLeaderboard, 30000); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫
        });
    </script>
</body>
</html>
